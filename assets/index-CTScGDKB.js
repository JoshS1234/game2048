(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const o of u.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();const q=document.querySelectorAll(".numSquare"),b=document.querySelector(".scoreBoard__scoreBox"),O=document.querySelector(".scoreBoard__restart-button"),L=document.querySelector(".controller__direction-button--left"),M=document.querySelector(".controller__direction-button--right"),J=document.querySelector(".controller__direction-button--up"),E=document.querySelector(".controller__direction-button--down");if(q)if(b)if(L)if(M)if(J){if(!E)throw new Error("left button issue")}else throw new Error("left button issue");else throw new Error("left button issue");else throw new Error("left button issue");else throw new Error("scoreBox issue");else throw new Error("gameboard issue");const A=e=>{let t=[],s=0;e.forEach(r=>{r?t.push(r):s++});for(let r=0;r<s;r++)t.push("");return t},C=e=>{if(e.every(u=>u==""))return[...e];const t=[e[0]==e[1],e[1]==e[2],e[2]==e[3]],s=(u,o)=>{for(let h=0;h<u.length;h++)if(o[h]!=u[h])return!1;return!0};let r=[],l;if(s(t,[!1,!1,!1]))return[...e];if(s(t,[!0,!1,!1]))l=String(parseFloat(e[0])+parseFloat(e[1])),r.push(l),r.push(e[2]),r.push(e[3]);else if(s(t,[!1,!0,!1]))r.push(e[0]),e[1]!=""&&(l=String(parseFloat(e[1])+parseFloat(e[2])),r.push(l),r.push(e[3]));else if(s(t,[!0,!0,!1]))l=String(parseFloat(e[0])+parseFloat(e[1])),r.push(l),r.push(e[2]),r.push(e[3]);else if(s(t,[!1,!1,!0]))r.push(e[0]),r.push(e[1]),e[2]!=""&&(l=String(parseFloat(e[2])+parseFloat(e[3])),r.push(l));else if(s(t,[!0,!1,!0]))l=String(parseFloat(e[0])+parseFloat(e[1])),r.push(l),e[2]!=""&&(l=String(parseFloat(e[2])+parseFloat(e[3])),r.push(l));else if(s(t,[!1,!0,!0]))r.push(e[0]),e[1]!=""&&(l=String(parseFloat(e[1])+parseFloat(e[2])),r.push(l)),r.push(e[3]);else if(s(t,[!0,!0,!0]))l=String(parseFloat(e[0])+parseFloat(e[1])),r.push(l),l=String(parseFloat(e[2])+parseFloat(e[3])),r.push(l);else return console.log("something went wrong"),["argh"];for(;r.length<4;)r.push("");return r},R=e=>{let t=[...e].reverse();return A(t).reverse()},G=e=>{let t=[...e].reverse();return C(t).reverse()},p=e=>{let t=[[],[],[],[]];for(let s=0;s<e.length;s++)for(let r=0;r<e[s].length;r++)t[r][s]=e[s][r];return t},y=e=>e.map(t=>A(t)).map(t=>C(t)),a=e=>e.map(t=>R(t)).map(t=>G(t)),F=e=>{const t=p([...e]);return p(y(t))},N=e=>{const t=p([...e]);return p(a(t))},S=e=>{let t=0;for(let s=0;s<e.length;s++)for(let r=0;r<e[s].length;r++)e[s][r]!=""&&(t+=parseFloat(e[s][r]));return String(t)},i=e=>{const t=[...e];let s=[];for(let u=0;u<e.length;u++)for(let o=0;o<e[u].length;o++)e[u][o]==""&&s.push([u,o]);const r=Math.random()>.5?"4":"2",l=s[Math.floor(Math.random()*s.length)];return t[l[0]][l[1]]=r,t},_=()=>{const e=[["","","",""],["","","",""],["","","",""],["","","",""]];return i(e),i(e),e},w=(e,t)=>{if(t=="left"){const s=y(e);return JSON.stringify(s)!=JSON.stringify(e)}else if(t=="right"){const s=a(e);return JSON.stringify(s)!=JSON.stringify(e)}else if(t=="up"){const s=F(e);return JSON.stringify(s)!=JSON.stringify(e)}else if(t=="down"){const s=N(e);return JSON.stringify(s)!=JSON.stringify(e)}},d=e=>{const t=y(e),s=a(e),r=F(e),l=N(e);return JSON.stringify(t)==JSON.stringify(e)&&JSON.stringify(s)==JSON.stringify(e)&&JSON.stringify(r)==JSON.stringify(e)&&JSON.stringify(l)==JSON.stringify(e)?(console.log("can't move any direction"),!0):!1},v=e=>{let t=0;for(let s=0;s<e.length;s++)for(let r=0;r<e[s].length;r++)e[s][r]!=""&&t++;return t==16},f=e=>{for(let t=0;t<16;t++){let s=Math.floor(t/4),r=t%4;q[t].innerHTML=`<h1>${e[s][r]}</h1>`}},c=e=>{const t=S(e);b.textContent=t},k=()=>{w(n,"left")?(n=y(n),i(n)):v(n)||i(n),f(n),c(n),d(n)&&alert("You lose!")},j=()=>{w(n,"right")?(n=a(n),i(n)):v(n)||i(n),f(n),c(n),d(n)&&alert("You lose!")},x=()=>{w(n,"up")?(n=F(n),i(n)):v(n)||i(n),f(n),c(n),d(n)&&alert("You lose!")},D=()=>{w(n,"down")?(n=N(n),i(n)):v(n)||i(n),f(n),c(n),d(n)&&alert("You lose!")},U=()=>{n=_(),f(n),c(n)};L.addEventListener("click",k);M.addEventListener("click",j);J.addEventListener("click",x);E.addEventListener("click",D);O==null||O.addEventListener("click",U);let n=_();f(n);c(n);
